/* Accessibility CSS - mantendo design atual */

/* Screen Reader Only - visível apenas para leitores de tela */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Torna visível quando focado */
.sr-only.focus\:not-sr-only:focus,
.focus-within\:not-sr-only:focus-within .sr-only {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Focus indicators customizados */
.focus-visible {
  outline: 2px solid #a855f7;
  outline-offset: 2px;
}

/* Remove outline padrão quando usando focus-visible */
.focus-visible:not(.focus-visible) {
  outline: none;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .focus-visible {
    outline: 3px solid;
    outline-offset: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Forced colors mode (Windows High Contrast) */
@media (forced-colors: active) {
  .focus-visible {
    outline: 2px solid ButtonText;
  }

  /* Ensure buttons are visible */
  button {
    border: 1px solid ButtonText;
  }
}

/* Skip links styling */
.skip-links {
  position: fixed;
  top: -100px;
  left: 0;
  z-index: 9999;
  transition: top 0.3s ease;
}

.skip-links:focus-within {
  top: 0;
}

/* Focus trap for modals */
.focus-trap {
  position: relative;
}

.focus-trap::before,
.focus-trap::after {
  content: '';
  position: absolute;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
}

/* Ensure interactive elements are large enough for touch */
@media (pointer: coarse) {
  button,
  [role='button'],
  input,
  select,
  textarea,
  a {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Improve text readability */
.text-readable {
  line-height: 1.5;
  letter-spacing: 0.025em;
}

/* Ensure sufficient color contrast for links */
a:not(.no-underline) {
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;
}

a:hover:not(.no-underline) {
  text-decoration-thickness: 2px;
}

/* Custom focus styles for different components */
.focus-purple:focus {
  outline: 2px solid #a855f7;
  outline-offset: 2px;
}

.focus-blue:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

.focus-green:focus {
  outline: 2px solid #10b981;
  outline-offset: 2px;
}

/* Ensure form labels are properly associated */
label {
  cursor: pointer;
}

/* Improve visibility of required field indicators */
.required::after {
  content: ' *';
  color: #ef4444;
  font-weight: bold;
}

/* Better visibility for disabled elements */
[disabled],
[aria-disabled='true'] {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Ensure proper spacing for touch targets */
.touch-target {
  padding: 12px;
  margin: 4px;
}

/* Live region styling */
[aria-live] {
  position: absolute;
  left: -10000px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

/* Ensure proper contrast for placeholder text */
::placeholder {
  opacity: 0.7;
  color: inherit;
}

/* Better visibility for focus on dark backgrounds */
.dark .focus-visible,
.dark .focus-purple:focus {
  outline-color: #c4b5fd;
}

/* Ensure proper spacing between interactive elements */
.interactive-spacing > * + * {
  margin-top: 8px;
}

/* Improve readability of error messages */
[role='alert'],
.error-message {
  font-weight: 500;
  line-height: 1.4;
}

/* Ensure proper contrast for selection */
::selection {
  background-color: #a855f7;
  color: white;
}

.dark ::selection {
  background-color: #c4b5fd;
  color: #1f2937;
}
